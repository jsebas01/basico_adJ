<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Labores básicas de administración</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
HREF="t1.htm"><LINK
REL="PREVIOUS"
TITLE="Correo electrónico"
HREF="x1467.htm"><LINK
REL="NEXT"
TITLE="Bitácoras"
HREF="x1750.htm"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1467.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1750.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="administra"
>Labores básicas de administración</A
></H1
><P
>Un sistema OpenBSD se administra desde la cuenta 
	  <TT
CLASS="literal"
>root</TT
> o bien con ayuda del programa
	  <TT
CLASS="literal"
>sudo</TT
>.</P
><P
>  Desde las diversas cuentas del sistema
	  que estén en el grupo <TT
CLASS="literal"
>wheel</TT
>
	  es posible pasar a la cuenta <TT
CLASS="literal"
>root</TT
> con el comando:
	  <PRE
CLASS="screen"
>&#13;$ su -		  
	  </PRE
>
	  Tipicamente al pasar a la cuenta root el prompt cambiará a #.
  	</P
><P
>&#13;	  Si <B
CLASS="command"
>sudo</B
> se configura para permitir su utilización
	  por parte de usuarios que estén en el grupo <TT
CLASS="literal"
>wheel</TT
>,
	  podrán ejecutarse comandos como si se tratara de la cuenta 
	  <TT
CLASS="literal"
>root</TT
> precediéndolos con <B
CLASS="command"
>sudo</B
>.
	  Por ejemplo para listar el directorio del usuario 
	  <TT
CLASS="literal"
>root</TT
>:
	  <PRE
CLASS="screen"
>&#13;$ sudo ls /root
	  </PRE
>
	  <DIV
CLASS="warning"
><P
></P
><TABLE
CLASS="warning"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>Aviso</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>Toda acción que realice con el programa <B
CLASS="command"
>sudo</B
>, así como cambios de un usuario a otro, quedarán registradas en 
			  la bitácora <TT
CLASS="filename"
>/var/log/secure</TT
>
	  </P
></TD
></TR
></TABLE
></DIV
>
  </P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="usuarios"
>Manejo de usuarios</A
></H2
><P
>Entre las labores del administrador está agregar, eliminar
	  y modificar información de usuarios del sistema.</P
><P
>&#13;		  El administrador puede agregar usuarios con el comando
		  <TT
CLASS="literal"
>adduser</TT
>.  Su uso típico se esboza
		  a continuación<A
NAME="AEN1686"
HREF="#FTN.AEN1686"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
> 		  
<PRE
CLASS="screen"
>&#13;# adduser
...
Enter username []: juan
Enter full name []: Juan Valdez
Enter shell csh ksh nologin sh [ksh]: 
Uid [1003]: 
Login group juan [juan]: 
Login group is ``juan''. Invite juan into other groups: guest no 
[no]: wheel
Login class auth-defaults auth-ftp-defaults daemon default staff 
[default]: staff
Enter password []: 
Enter password again []: 

Name:        juan
Password:    ****
Fullname:    Juan Valdez
Uid:         1003
Gid:         1003 (juan)
Groups:      juan wheel
Login Class: staff
HOME:        /home/juan
Shell:       /bin/ksh
OK? (y/n) [y]: 
		  </PRE
>
		  Note que todo usuario del sistema tiene:
		  <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
>Una identificación</DT
><DD
><P
>juan en el ejemplo recién presentado</P
></DD
><DT
>Un UID</DT
><DD
><P
>Se trata de un número que lo identifica (1003 en el
	ejemplo)</P
></DD
><DT
>Un GID</DT
><DD
><P
>O número que identifica al grupo principal al que
	pertenece el usuario (1003 en el ejemplo).</P
></DD
><DT
>Un intérprete de comandos</DT
><DD
><P
>Que será el que tendrá el usuario al iniciar 
			nuevas sesiones (en el ejemplo es 
			<TT
CLASS="literal"
>/bin/ksh</TT
>).</P
></DD
><DT
>Una clase de login</DT
><DD
><P
>Que establecerá parámetros para la sesión, por ejemplo
			límite en el uso de memoria y recursos.  En el ejemplo es
			<TT
CLASS="literal"
>staff</TT
>, pero para usuarios que
			no vayan a administrar el sistema se sugiere
			<TT
CLASS="literal"
>default</TT
></P
></DD
><DT
>Eventualmente uno o más grupos secundarios</DT
><DD
><P
>Cada usuario fuera de su grupo principal puede
pertenecer a otros grupos.  En este ejemplo, el usuario pertenecerá
además al grupo <TT
CLASS="literal"
>wheel</TT
>, lo cual
indica que hará labores administrativas.</P
></DD
><DT
>Un directorio personal</DT
><DD
><P
>Cuyo propietario será el usuario y quedará
			como directorio de trabajo cada vez que inicie una 
			sesión.  En el ejemplo es 
			<TT
CLASS="filename"
>/home/juan</TT
> (note que
			por defecto todos los directorios de usuarios son
			subdirectorios de <TT
CLASS="filename"
>/home</TT
>).
	</P
></DD
></DL
></DIV
>
	  </P
><P
>Para eliminar un usuario y su directorio personal:
		  <PRE
CLASS="screen"
>&#13;userdel -r juan
		  </PRE
>
	  </P
><P
>&#13;		  Es posible modificar información de los usuarios de
		  diversas formas:
		  <P
></P
><UL
><LI
><P
>Con el comando
					  <B
CLASS="command"
>vipw</B
> que
					  le permitirá modificar directamente el
				  archivo de claves y usuarios</P
></LI
><LI
><P
>Con el comando 
				  <B
CLASS="command"
>chfn <TT
CLASS="replaceable"
><I
>usuario</I
></TT
></B
> podrá modificar algunos datos del perfil del usuario.</P
></LI
></UL
>
	  </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="lr-admin"
>Lecturas recomendadas</A
></H2
><P
>&#13;		  <P
></P
><UL
><LI
><P
>&#13;Documentación del sistema <B
CLASS="command"
>man adduser</B
>,
<B
CLASS="command"
>man userdel</B
>
				  </P
></LI
><LI
><P
>&#13;		  Para instalar y comenzar a administrar un sistema OpenBSD
		  sugerimos .
				  </P
></LI
><LI
><P
>&#13;		  Para administrar un servidor OpenBSD conectado a 
		  Internet recomendamos 
				  </P
></LI
></UL
>
	  </P
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notas</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN1686"
HREF="x1661.htm#AEN1686"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Tenga en cuenta que la 
primera vez que ejecute <TT
CLASS="literal"
>adduser</TT
> tras instalar un sistema
OpenBSD, este programa preguntará valores por defecto por emplear durante
la creación de cuentas. </P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1467.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="t1.htm"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1750.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Correo electrónico</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Bitácoras</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>