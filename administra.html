<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>13. Labores básicas de administración</title><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="Uso Básico de la distribución Aprendiendo de Jesús de OpenBSD"><link rel="up" href="index.html" title="Uso Básico de la distribución Aprendiendo de Jesús de OpenBSD"><link rel="prev" href="correo.html" title="12. Correo electrónico"><link rel="next" href="bitacoras.html" title="14. Bitácoras"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13. Labores básicas de administración</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="correo.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="bitacoras.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="administra"></a>13. Labores básicas de administración</h2></div></div></div><p>Un sistema OpenBSD se administra desde la cuenta 
	  <code class="literal">root</code> o bien con ayuda del programa
	  <code class="literal">sudo</code>.</p><p>  Desde las diversas cuentas del sistema
	  que estén en el grupo <code class="literal">wheel</code>
	  es posible pasar a la cuenta <code class="literal">root</code> con el comando:
	  </p><pre class="screen">
$ su -		  
	  </pre><p>
	  Tipicamente al pasar a la cuenta root el prompt cambiará a #.
  	</p><p>
	  Si <span><strong class="command">sudo</strong></span> se configura para permitir su utilización
	  por parte de usuarios que estén en el grupo <code class="literal">wheel</code>,
	  podrán ejecutarse comandos como si se tratara de la cuenta 
	  <code class="literal">root</code> precediéndolos con <span><strong class="command">sudo</strong></span>.
	  Por ejemplo para listar el directorio del usuario 
	  <code class="literal">root</code>:
	  </p><pre class="screen">
$ sudo ls /root
	  </pre><p>
	  </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Aviso]" src="./warning.png"></td><th align="left">Aviso</th></tr><tr><td align="left" valign="top"><p>Toda acción que realice con el programa <span><strong class="command">sudo</strong></span>, así como cambios de un usuario a otro, quedarán registradas en 
			  la bitácora <code class="filename">/var/log/secure</code>
	  </p></td></tr></table></div><p>
  </p><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="usuarios"></a>13.1. Manejo de usuarios</h3></div></div></div><p>Entre las labores del administrador está agregar, eliminar
	  y modificar información de usuarios del sistema.</p><p>
		  El administrador puede agregar usuarios con el comando
		  <code class="literal">adduser</code>.  Su uso típico se esboza
		  a continuación<sup>[<a name="idm448356240" href="#ftn.idm448356240">14</a>]</sup> 		  
</p><pre class="screen">
# adduser
...
Enter username []: juan
Enter full name []: Juan Valdez
Enter shell csh ksh nologin sh [ksh]: 
Uid [1003]: 
Login group juan [juan]: 
Login group is ``juan''. Invite juan into other groups: guest no 
[no]: wheel
Login class auth-defaults auth-ftp-defaults daemon default staff 
[default]: staff
Enter password []: 
Enter password again []: 

Name:        juan
Password:    ****
Fullname:    Juan Valdez
Uid:         1003
Gid:         1003 (juan)
Groups:      juan wheel
Login Class: staff
HOME:        /home/juan
Shell:       /bin/ksh
OK? (y/n) [y]: 
		  </pre><p>
		  Note que todo usuario del sistema tiene:
		  </p><div class="variablelist"><dl><dt><span class="term">Una identificación</span></dt><dd><p>juan en el ejemplo recién presentado</p></dd><dt><span class="term">Un UID</span></dt><dd><p>Se trata de un número que lo identifica (1003 en el
	ejemplo)</p></dd><dt><span class="term">Un GID</span></dt><dd><p>O número que identifica al grupo principal al que
	pertenece el usuario (1003 en el ejemplo).</p></dd><dt><span class="term">Un intérprete de comandos</span></dt><dd><p>Que será el que tendrá el usuario al iniciar 
			nuevas sesiones (en el ejemplo es 
			<code class="literal">/bin/ksh</code>).</p></dd><dt><span class="term">Una clase de login</span></dt><dd><p>Que establecerá parámetros para la sesión, por ejemplo
			límite en el uso de memoria y recursos.  En el ejemplo es
			<code class="literal">staff</code>, pero para usuarios que
			no vayan a administrar el sistema se sugiere
			<code class="literal">default</code></p></dd><dt><span class="term">Eventualmente uno o más grupos secundarios</span></dt><dd><p>Cada usuario fuera de su grupo principal puede
pertenecer a otros grupos.  En este ejemplo, el usuario pertenecerá
además al grupo <code class="literal">wheel</code>, lo cual
indica que hará labores administrativas.</p></dd><dt><span class="term">Un directorio personal</span></dt><dd><p>Cuyo propietario será el usuario y quedará
			como directorio de trabajo cada vez que inicie una 
			sesión.  En el ejemplo es 
			<code class="filename">/home/juan</code> (note que
			por defecto todos los directorios de usuarios son
			subdirectorios de <code class="filename">/home</code>).
	</p></dd></dl></div><p>
	  </p><p>Para eliminar un usuario y su directorio personal:
		  </p><pre class="screen">
userdel -r juan
		  </pre><p>
	  </p><p>
		  Es posible modificar información de los usuarios de
		  diversas formas:
		  </p><div class="itemizedlist"><ul type="disc"><li><p>Con el comando
					  <span><strong class="command">vipw</strong></span> que
					  le permitirá modificar directamente el
				  archivo de claves y usuarios</p></li><li><p>Con el comando 
				  <span><strong class="command">chfn <em class="replaceable"><code>usuario</code></em></strong></span> podrá modificar algunos datos del perfil del usuario.</p></li></ul></div><p>
	  </p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="lr-admin"></a>13.2. Lecturas recomendadas</h3></div></div></div><p>
		  </p><div class="itemizedlist"><ul type="disc"><li><p>
Documentación del sistema <span><strong class="command">man adduser</strong></span>,
<span><strong class="command">man userdel</strong></span>
				  </p></li><li><p>
		  Para instalar y comenzar a administrar un sistema OpenBSD
		  sugerimos ???.
				  </p></li><li><p>
		  Para administrar un servidor OpenBSD conectado a 
		  Internet recomendamos ???
				  </p></li></ul></div><p>
	  </p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p xmlns="http://www.w3.org/TR/xhtml1/transitional"><sup>[<a name="ftn.idm448356240" href="#idm448356240">14</a>] </sup>Tenga en cuenta que la 
primera vez que ejecute <code xmlns="" class="literal">adduser</code> tras instalar un sistema
OpenBSD, este programa preguntará valores por defecto por emplear durante
la creación de cuentas. </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="correo.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="bitacoras.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">12. Correo electrónico </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 14. Bitácoras</td></tr></table></div></body></html>
